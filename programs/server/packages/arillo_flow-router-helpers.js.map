{"version":3,"sources":["meteor://ðŸ’»app/packages/arillo_flow-router-helpers/client/helpers.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;EAAA;6BAAA;;AAAA,YAAY;AACV;AAAA,EADW,4DACX;AAAA,MAAiC,IAAI,CAAC,MAAL,KAAe,CAAhD;AAAA,WAAO,UAAU,CAAC,SAAX,EAAP;GAAA;AAAA,EACA,OAAO,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,IAAI,CAAC,MAAL,GAAc,CAA5B,CADP;SAEA,CAAC,CAAC,MAAF,CAAS,IAAT,EAAe,SAAC,IAAD,EAAO,GAAP;WACb,QAAS,UAAU,CAAC,SAAX,CAAqB,GAArB,EADI;EAAA,CAAf,EAEE,IAFF,EAHU;AAAA,CAAZ;;AAAA,OAQA,GAAU,SAAC,IAAD,EAAO,IAAP;AACR;;IADe,OAAO;AAAA,MAAC,MAAK,EAAN;;GACtB;AAAA;AAAA,UAAU,UAAM,iBAAN,CAAV;GAAA;AAEA,WAA6B,CAAC,IAA9B;AAAA,WAAO;AAAA,YAAM,IAAN;KAAP;GAFA;AAGA,MAAG,wDAAH;AACE,WAAO,IAAP;AAAA,IACA,OAAO,IAAI,CAAC,IAAI,CAAC,KADjB;AAAA,IAEA,WAAW,CAAC,IAAI,CAAC,KAFjB,CADF;GAHA;AAAA,EAOA,QAAW,IAAI,CAAC,IAAI,CAAC,KAAb,GAAwB,UAAU,CAAC,GAAG,CAAC,KAAf,CAAqB,IAAI,CAAC,IAAI,CAAC,KAA/B,CAAxB,GAAmE,EAP3E;AAAA,EAQA,WAAc,IAAI,CAAC,IAAI,CAAC,IAAb,GAAuB,IAAI,CAAC,IAAI,CAAC,IAAjC,GAA2C,EARtD;SASA,UAAU,CAAC,IAAX,CAAgB,IAAhB,EAAsB,IAAI,CAAC,IAA3B,EAAiC,KAAjC,IAA0C,CAAI,QAAH,GAAiB,MAAI,QAArB,GAAqC,EAAtC,EAVlC;AAAA,CARV;;AAAA,MAqBA,GAAS,SAAC,IAAD,EAAO,IAAP;AACP;AAAA,iBAAe,QAAQ,IAAR,EAAc,IAAd,CAAf;SACA,MAAM,CAAC,WAAP,CAAmB,YAAY,CAAC,MAAb,CAAoB,CAApB,CAAnB,EAFO;AAAA,CArBT;;AAAA,KA0BA,GAAQ,SAAC,IAAD;SACN,UAAU,CAAC,QAAX,CAAoB,IAApB,EADM;AAAA,CA1BR;;AAAA,UA8BA,GAAa,SAAC,GAAD;SACX,UAAU,CAAC,aAAX,CAAyB,GAAzB,EADW;AAAA,CA9Bb;;AAAA,gBAkCA,GAAmB;SACjB,UAAU,CAAC,YAAX,GADiB;AAAA,CAlCnB;;AAAA,UAsCA,GAAa,SAAC,GAAD;AACX,MAAoC,GAApC;AAAA,WAAO,UAAU,CAAC,SAAX,CAAqB,GAArB,CAAP;GAAA;AACA,SAAO,UAAU,CAAC,SAAX,EAAP,CAFW;AAAA,CAtCb;;AAAA,OA0CA,GACE;AAAA,aAAW,SAAX;AAAA,EACA,SAAS,OADT;AAAA,EAEA,QAAQ,MAFR;AAAA,EAGA,OAAO,KAHP;AAAA,EAIA,YAAY,UAJZ;AAAA,EAKA,kBAAkB,gBALlB;AAAA,EAMA,YAAY,UANZ;CA3CF;;AAmDA,IAAG,MAAM,CAAC,QAAV;AACE;;yBAAA;AAAA,YAAQ,CAAC,cAAT,CAAwB,IAAxB,EAA8B,IAA9B;AAAA,GADF;CAnDA;;AAsDA,IAAG,MAAM,CAAC,QAAV;AACE,sBACE;AAAA,aAAS,OAAT;AAAA,IACA,QAAQ,MADR;GADF,CADF;CAtDA","file":"/packages/arillo_flow-router-helpers.js","sourcesContent":["# check for subscriptions to be ready\nsubsReady = (subs...) ->\n  return FlowRouter.subsReady() if subs.length is 1\n  subs = subs.slice(0, subs.length - 1)\n  _.reduce subs, (memo, sub) ->\n    memo and FlowRouter.subsReady(sub)\n  , true\n\n# return path\npathFor = (path, view = {hash:{}}) ->\n  throw new Error('no path defined') unless path\n  # set if run on server\n  view = hash: view unless view.hash\n  if path.hash?.route?\n    view = path\n    path = view.hash.route\n    delete view.hash.route\n  query = if view.hash.query then FlowRouter._qs.parse(view.hash.query) else {}\n  hashBang = if view.hash.hash then view.hash.hash else ''\n  FlowRouter.path(path, view.hash, query) + (if hashBang then \"##{hashBang}\" else '')\n\n# return absolute url\nurlFor = (path, view) ->\n  relativePath = pathFor(path, view)\n  Meteor.absoluteUrl(relativePath.substr(1))\n\n# get parameter\nparam = (name) ->\n  FlowRouter.getParam(name);\n\n# get query parameter\nqueryParam = (key) ->\n  FlowRouter.getQueryParam(key);\n\n# get current route name\ncurrentRouteName = () ->\n  FlowRouter.getRouteName()\n\n# deprecated\nisSubReady = (sub) ->\n  return FlowRouter.subsReady(sub) if sub\n  return FlowRouter.subsReady()\n\nhelpers =\n  subsReady: subsReady\n  pathFor: pathFor\n  urlFor: urlFor\n  param: param\n  queryParam: queryParam\n  currentRouteName: currentRouteName\n  isSubReady: isSubReady\n\nif Meteor.isClient\n  Template.registerHelper name, func for own name, func of helpers\n  \nif Meteor.isServer\n  FlowRouterHelpers = \n    pathFor: pathFor\n    urlFor: urlFor\n"]}